# FACILITY SERVICE API ENDPOINTS

## HEALTH CHECK
GET /health
# Check service health
curl -X GET http://localhost:8004/health

## FACILITY ENDPOINTS
POST /api/v1/facilities                         # Create a new facility 
# Create a new facility
curl -X POST http://localhost:8004/api/v1/facilities \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Main Gym",
    "description": "Primary workout area with cardio and strength equipment",
    "capacity": 100,
    "status": "active",
    "opening_hour": "06:00:00",
    "closing_hour": "22:00:00"
  }'

GET /api/v1/facilities                          # List all facilities 
# List all facilities
curl -X GET http://localhost:8004/api/v1/facilities

# List facilities with pagination
curl -X GET "http://localhost:8004/api/v1/facilities?page=1&pageSize=10"

GET /api/v1/facilities/{id}                     # Get a specific facility
# Get a specific facility
curl -X GET http://localhost:8004/api/v1/facilities/1

PUT /api/v1/facilities/{id}                     # Update a facility 
# Update a facility
curl -X PUT http://localhost:8004/api/v1/facilities/1 \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Main Gym",
    "description": "Updated primary workout area with new equipment",
    "capacity": 120,
    "status": "active",
    "opening_hour": "05:30:00",
    "closing_hour": "22:30:00"
  }'

DELETE /api/v1/facilities/{id}                  # Delete a facility
# Delete a facility
curl -X DELETE http://localhost:8004/api/v1/facilities/1

GET /api/v1/facilities/status/{status}          # List facilities by status
# List facilities by status
curl -X GET http://localhost:8004/api/v1/facilities/status/active

## EQUIPMENT ENDPOINTS
POST /api/v1/equipment                         # Create new equipment
# Create new equipment
curl -X POST http://localhost:8004/api/v1/equipment \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Treadmill",
    "description": "Commercial grade treadmill",
    "category": "cardio",
    "purchase_date": "2023-01-15T00:00:00Z",
    "purchase_price": 2999.99,
    "manufacturer": "LifeFitness",
    "model_number": "LF-TR1000",
    "status": "active",
    "last_maintenance_date": "2023-06-15T00:00:00Z",
    "next_maintenance_date": "2023-09-15T00:00:00Z"
  }'

GET /api/v1/equipment                          # Get all equipment
# Get all equipment
curl -X GET http://localhost:8004/api/v1/equipment

# Get equipment with pagination
curl -X GET "http://localhost:8004/api/v1/equipment?page=1&pageSize=10"

GET /api/v1/equipment/{id}                     # Get specific equipment
# Get specific equipment
curl -X GET http://localhost:8004/api/v1/equipment/1

PUT /api/v1/equipment/{id}                     # Update equipment
# Update equipment
curl -X PUT http://localhost:8004/api/v1/equipment/1 \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Treadmill",
    "description": "Commercial grade treadmill",
    "category": "cardio",
    "purchase_date": "2023-01-15T00:00:00Z",
    "purchase_price": 2999.99,
    "manufacturer": "LifeFitness",
    "model_number": "LF-TR1000",
    "status": "maintenance",
    "last_maintenance_date": "2023-07-15T00:00:00Z",
    "next_maintenance_date": "2023-10-15T00:00:00Z"
  }'

DELETE /api/v1/equipment/{id}                  # Delete equipment
# Delete equipment
curl -X DELETE http://localhost:8004/api/v1/equipment/1

GET /api/v1/equipment/category/{category}      # List equipment by category
# List equipment by category
curl -X GET http://localhost:8004/api/v1/equipment/category/cardio

GET /api/v1/equipment/status/{status}          # List equipment by status
# List equipment by status
curl -X GET http://localhost:8004/api/v1/equipment/status/maintenance

GET /api/v1/equipment/maintenance              # List equipment due for maintenance
# List equipment due for maintenance
curl -X GET http://localhost:8004/api/v1/equipment/maintenance

# List equipment due for maintenance by specific date
curl -X GET "http://localhost:8004/api/v1/equipment/maintenance?date=2023-09-30"

## ATTENDANCE ENDPOINTS
POST /api/v1/attendance                        # Create a new attendance record
# Create a new attendance record (check-in)
curl -X POST http://localhost:8004/api/v1/attendance \
  -H "Content-Type: application/json" \
  -d '{
    "member_id": 123,
    "facility_id": 1,
    "check_in_time": "2023-07-15T08:00:00Z"
  }'

GET /api/v1/attendance                         # List all attendance records
# List all attendance records
curl -X GET http://localhost:8004/api/v1/attendance

# List attendance records with pagination
curl -X GET "http://localhost:8004/api/v1/attendance?page=1&pageSize=10"

GET /api/v1/attendance/{id}                    # Get a specific attendance record
# Get a specific attendance record
curl -X GET http://localhost:8004/api/v1/attendance/1

PUT /api/v1/attendance/{id}                    # Update an attendance record
# Update an attendance record
curl -X PUT http://localhost:8004/api/v1/attendance/1 \
  -H "Content-Type: application/json" \
  -d '{
    "member_id": 123,
    "check_in_time": "2023-07-15T08:15:00Z",
    "check_out_time": "2023-07-15T10:45:00Z",
    "facility_id": 1
  }'

DELETE /api/v1/attendance/{id}                 # Delete an attendance record
# Delete an attendance record
curl -X DELETE http://localhost:8004/api/v1/attendance/1

POST /api/v1/attendance/{id}/checkout          # Record check-out time
# Record check-out time
curl -X POST http://localhost:8004/api/v1/attendance/1/checkout

GET /api/v1/attendance/member/{memberID}       # List attendance for a specific member
# List attendance for a specific member
curl -X GET http://localhost:8004/api/v1/attendance/member/123

GET /api/v1/attendance/facility/{facilityID}   # List attendance for a specific facility
# List attendance for a specific facility
curl -X GET http://localhost:8004/api/v1/attendance/facility/1

GET /api/v1/attendance/date/{date}             # List attendance for a specific date
# List attendance for a specific date
curl -X GET http://localhost:8004/api/v1/attendance/date/2023-07-15

## HEALTH AND MONITORING ENDPOINTS

### Health Check
GET /health
# Check service health
curl -X GET http://localhost:8004/health

### Database Status
GET /api/v1/admin/db-status  (Requires admin privileges)
# Check database connection status
curl -X GET http://localhost:8004/api/v1/admin/db-status -H "Authorization: Bearer {admin_token}"

## TESTING EXAMPLES

### Complete Flow Example
# 1. Create a facility
curl -X POST http://localhost:8004/api/v1/facilities \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test Gym",
    "description": "Test facility",
    "capacity": 100,
    "status": "active",
    "opening_hour": "06:00:00",
    "closing_hour": "22:00:00"
  }'

# 2. Create equipment in the facility
curl -X POST http://localhost:8004/api/v1/equipment \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test Treadmill",
    "description": "Test equipment",
    "category": "cardio",
    "purchase_date": "2023-01-01T00:00:00Z",
    "purchase_price": 1999.99,
    "manufacturer": "Test Brand",
    "status": "active",
    "last_maintenance_date": "2023-06-01T00:00:00Z",
    "next_maintenance_date": "2023-09-01T00:00:00Z"
  }'

# 3. Record member attendance
curl -X POST http://localhost:8004/api/v1/attendance \
  -H "Content-Type: application/json" \
  -d '{
    "member_id": 1,
    "facility_id": 1,
    "check_in_time": "2023-07-15T10:00:00Z"
  }'

# 4. Check out the member
curl -X POST http://localhost:8004/api/v1/attendance/1/checkout
